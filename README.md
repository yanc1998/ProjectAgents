

## Informe Proyecto de la asignatura de Simulacion y Programcion Declarativa

Autor: Yan Carlos Gonzalez Blanco C-411

### 1-Ideas seguidas para la solución del problema

Para la solucion del problema nos basamos en la blibiografia sobre agentes y las conferencias vistas en clase, en las cuales nos apyamos para la modelacion tanto de los agentes como del ambiente, los cuales serán explicado mas adelante con profundidad su funcinamiento.

### 2-Modelos de Agentes

Para los robots de casa se utilizaron dos modelos, los cuales son reactivos diferenciandoses entre estos por la prioridad de sus categorias.

Para el primer agente al cual llamaremos CargaNino se siguieron el siguiente orden de prioridades para su implementación:

1- Si el robot esta parado en una posicion donde se encuentra una suciedad este pasa de forma inmediata a limpiarla.

2- Si el robot se encuantra cargando un nino y este puede llevarlo hacia el corral se mueve hacia la casilla que mas lo acerque a este.

3- Si el robot no esta cargando a ningun nino y existe un nino al cual el puede llevar hacia el corral, entonces se mueve hacia el nino mas cercano.

4- Si existe basura en el ambiente y el robot puede alcanzar alguna de estas, entonces este se mueve a la casilla que mas lo acerque a esta. 

5- Si el robot no puede realizar niniguna de las anteriores se queda en su lugar.

Es decir que la funcion principal de este agente sera tratar de llevar los ninos primero al corral, para de esta forma eliminar la fuente de la suciedad, y mientras lleva a los ninos si en el camino coincide con alguna casilla sucia este pasa a limpiarla. Si ya una vez que todos los ninos se encuentre ubicados en el corral entonces pasaria a eliminar la basura de forma directa.

Para el segundo agente al cual llamaremos Limpiador se siguieron de forma similar al anterior el orden de prioridades solamente cambiando la prioridad 3 por la 4.

Este agente funciana contrario del anterior, el cual primero trata de elminar la basura de forma directa y una ves que el ambiente este completamente limpio pasaria a tratar de llevar los ninos al corral.

Los ninos fueron modeldos realizando el movimiento de forma aleatoria a una de las 8 direcciones posibles de las casillas adyacentes a este.



### 3-Detalles de la implementación 

Como requisito del proyecto la implementacion fue realizada en el lenguaje de programcion Haskell basado en el paradigma funcional, para la fasiilad de la creacion y ejecucion de este se utilizo la erramienta Stack. Para ejecutar el proyecto es necesario tenerlo instalado, una ves instalado y descargado el proyecto en el directorio de este ejecutar:

```bash
stack build && stack exec haskell-example-exe 
```

 Una ves corrido se mostrara el resulatado de las simulaciones realizadas.

Para la modelacion del ambiente se creo un nuevo tipo de dato llamado Ambiente en el cual se encontraran las dimenciones del corral, una lista de ninos, una de obstáculos, una de suciead, una de los roboces, y una para el corral, para poder identificar las posiciones que ocuparian estos en el ambiente. Para crear el corral se utilizo un algoritmo BFS que para una ves sean llenadas la cantidad de casillas que va ha tener el corral, de esta forma se garantiza que el corral este conectado y se cree de la forma mas cuadrada posible. 

Para la implementacion de los roboces se utilizo un algoritmo BFS para encontrar tanto los ninos, como la suciedad y el corral que se encuentre mas cerca de este, para garantiza que el robot tenga que moverse lo menos posible para cumplir su objetivo, ya sea de buscar a el nino para llevarlo al corral como ya llevarlo directamente al corral o buscar la suciedad para limpiarla. Para llevar los ninos al corral y poder garantizar que el corral no se cierre y queden posiciones vacias en el interior, el robot trata de llevar al nino a la posicion del corral alcanzable por el, que mas cerca este del centro de este, para grantizar que el corral se valla creando por niveles, hasta que un nivel no sea haya completado no se pase a poner ninos en el otro mas externo.   

La variación del ambiente ocurre totalmente aleatoria cambiando todo de lugar, incluyendo el corral y los roboces , manteniedo la cantiad de basura actual en este, y sacando a todos los ninos del corral.  



### 4-Simulaciones 

Para las simulaciones se realizaron 3 tipos de ambientes con diferentes parámetros, realizando para cada uno de estos 3 simulaciones con valores del parámetro t distinto (100,50,20) y con cada uno de los Agentes (CargaNino,Limpiador),todas las simulaciones fueron hechas con 1000 turnos



Datos de la ejecución:

$t = 100,7\ ninos,6\ \% \ suciedad,5\ obstaculos$



| Craga Nino         | Limpiador          |
| ------------------ | ------------------ |
| 25.28735632183908  | 25.0               |
| 26.436781609195403 | 33.333333333333336 |
| 18.39080459770115  | 29.41176470588235  |
| 11.494252873563218 | 16.27906976744186  |
| 6.896551724137931  | 41.1764705882353   |
| 2.2988505747126435 | 20.930232558139537 |
| 10.344827586206897 | 27.906976744186046 |
| 14.942528735632184 | 10.344827586206897 |
| 12.64367816091954  | 32.18390804597701  |
| 18.39080459770115  | 20.689655172413794 |
| 37.93103448275862  | 25.58139534883721  |
| 44.827586206896555 | 34.11764705882353  |
| 14.942528735632184 | 31.3953488372093   |
| 4.597701149425287  | 19.767441860465116 |
| 29.885057471264368 | 31.03448275862069  |
| 17.24137931034483  | 20.689655172413794 |
| 19.54022988505747  | 16.470588235294116 |
| 20.689655172413794 | 10.344827586206897 |
| 25.28735632183908  | 31.03448275862069  |
| 22.988505747126435 | 20.238095238095237 |
| 25.28735632183908  | 16.091954022988507 |
| 17.24137931034483  | 24.41860465116279  |
| 8.045977011494253  | 23.25581395348837  |
| 11.494252873563218 | 5.813953488372093  |
| 18.39080459770115  | 26.74418604651163  |
| 10.344827586206897 | 21.59090909090909  |
| 24.137931034482758 | 39.53488372093023  |
| 18.39080459770115  | 12.941176470588236 |
| 6.896551724137931  | 17.441860465116278 |
| 0/30               | 0/30               |

T=50

| Carga Nino         | Limpiador          |
| ------------------ | ------------------ |
| 53.48837209302326  | 49.397590361445786 |
| 55.294117647058826 | 57.83132530120482  |
| 50.588235294117645 | 65.06024096385542  |
| 58.8235294117647   | 36.470588235294116 |
| 51.76470588235294  | 49.397590361445786 |
| 50.0               | 47.61904761904762  |
| 54.651162790697676 | 52.94117647058823  |
| 48.83720930232558  | 44.705882352941174 |
| 62.35294117647059  | 48.78048780487805  |
| 58.333333333333336 | 56.09756097560975  |
| 50.0               | 40.963855421686745 |
| 57.47126436781609  | 58.02469135802469  |
| 67.44186046511628  | 44.04761904761905  |
| 53.48837209302326  | 48.19277108433735  |
| 57.142857142857146 | 62.19512195121951  |
| 57.142857142857146 | 48.19277108433735  |
| 48.83720930232558  | 48.78048780487805  |
| 70.93023255813954  | 45.88235294117647  |
| 61.904761904761905 | 49.397590361445786 |
| 60.46511627906977  | 53.01204819277108  |
| 54.21686746987952  | 42.68292682926829  |
| 54.76190476190476  | 48.80952380952381  |
| 65.11627906976744  | 49.397590361445786 |
| 57.47126436781609  | 53.65853658536585  |
| 60.0               | 51.19047619047619  |
| 55.294117647058826 | 56.626506024096386 |
| 60.0               | 50.0               |
| 57.83132530120482  | 37.34939759036145  |
| 60.97560975609756  | 51.19047619047619  |
| 7/30               | 2/30               |


T=100 7ninos 10 basuras 10 obstáculos

| Carga Nino         | Limpiador          |
| ------------------ | ------------------ |
| 19.51219512195122  | 12.048192771084338 |
| 9.75609756097561   | 22.22222222222222  |
| 8.536585365853659  | 23.75              |
| 13.414634146341463 | 29.62962962962963  |
| 29.26829268292683  | 13.414634146341463 |
| 28.048780487804876 | 25.301204819277107 |
| 24.390243902439025 | 12.195121951219512 |
| 30.48780487804878  | 26.25              |
| 7.317073170731708  | 16.25              |
| 6.097560975609756  | 13.25301204819277  |
| 24.390243902439025 | 27.848101265822784 |
| 43.20987654320987  | 22.22222222222222  |
| 13.414634146341463 | 8.641975308641975  |
| 26.829268292682926 | 20.987654320987655 |
| 10.975609756097562 | 6.097560975609756  |
| 20.73170731707317  | 28.048780487804876 |
| 4.878048780487805  | 20.987654320987655 |
| 25.609756097560975 | 24.390243902439025 |
| 24.390243902439025 | 29.62962962962963  |
| 23.170731707317074 | 24.390243902439025 |
| 19.51219512195122  | 32.142857142857146 |
| 30.48780487804878  | 20.481927710843372 |
| 0.0                | 23.170731707317074 |
| 26.829268292682926 | 25.0               |
| 17.073170731707318 | 29.62962962962963  |
| 0.0                | 21.25              |
| 10.975609756097562 | 32.926829268292686 |
| 9.75609756097561   | 20.73170731707317  |
| 14.634146341463415 | 19.51219512195122  |
| 0/30               | 0/30               |



T = 50

|                    |                    |
| ------------------ | ------------------ |
| 56.09756097560975  | 46.05263157894737  |
| 60.75949367088607  | 47.43589743589744  |
| 62.96296296296296  | 47.36842105263158  |
| 57.5               | 40.78947368421053  |
| 58.22784810126582  | 49.35064935064935  |
| 56.25              | 52.5               |
| 58.97435897435897  | 47.36842105263158  |
| 60.75949367088607  | 50.63291139240506  |
| 55.12820512820513  | 52.56410256410256  |
| 55.69620253164557  | 50.63291139240506  |
| 53.75              | 36.36363636363637  |
| 58.02469135802469  | 62.33766233766234  |
| 61.72839506172839  | 53.246753246753244 |
| 55.0               | 45.0               |
| 58.75              | 51.89873417721519  |
| 63.75              | 55.84415584415584  |
| 48.717948717948715 | 52.5               |
| 54.43037974683544  | 49.35064935064935  |
| 59.49367088607595  | 31.57894736842105  |
| 56.09756097560975  | 57.5               |
| 53.164556962025316 | 40.25974025974026  |
| 62.0253164556962   | 48.10126582278481  |
| 51.89873417721519  | 48.717948717948715 |
| 61.53846153846154  | 35.526315789473685 |
| 50.617283950617285 | 54.54545454545455  |
| 55.55555555555556  | 52.56410256410256  |
| 56.79012345679013  | 45.45454545454545  |
| 57.5               | 50.63291139240506  |
| 55.0               | 57.69230769230769  |
| 7/30               | 1/30               |



Como podemos observar para valores mas pequenos de t el robot encaragdo de primero de llevar los ninos al corrral obtiene peores resultados que el que se encarga primero de limpiar, lo cual es algo logico de la forma en que varia el ambiente ya que el variar este todos los ninos son sacados del corral, por lo que el robot pasara todo el tiempo tratando de llevar a los ninos al corral y estos saliendos por lo que no dedica mucho tiempo a limpiar de forma directa, para valores mas grandes de t el encargado de llevar los ninos primero obtiene mejores resultados ya que este tiene tiempo para llevar los ninos al corral y comenzar a limpiar de forma directa y elimina la fuente de suciedad



"Start test1 Carga Ninos t=50"

"finish"
"Start test1 Clean t=50"



54.76190476190476
"finish"
"Start test1 Carga Ninos t=20"
65.06024096385542
70.23809523809524
71.08433734939759
73.80952380952381
75.60975609756098
71.08433734939759
67.07317073170732
68.29268292682927
70.73170731707317
74.39024390243902
72.28915662650603
76.82926829268293
76.82926829268293
74.39024390243902
69.87951807228916
74.07407407407408
76.19047619047619
69.1358024691358
74.6987951807229
66.66666666666667
71.60493827160494
68.23529411764706
71.95121951219512
65.4320987654321
74.39024390243902
79.26829268292683
70.73170731707317
67.46987951807229
66.66666666666667
65.06024096385542
"finish"
"Start test1 Clean t=20"
52.38095238095238
66.25
65.4320987654321
60.49382716049383
56.79012345679013
59.25925925925926
68.29268292682927
57.31707317073171
71.60493827160494
56.25
65.47619047619048
54.8780487804878
63.41463414634146
56.79012345679013
64.63414634146342
75.60975609756098
68.29268292682927
71.25
68.29268292682927
68.29268292682927
62.5
64.19753086419753
62.19512195121951
67.07317073170732
59.25925925925926
65.06024096385542
69.51219512195122
62.96296296296296
62.96296296296296
65.4320987654321
"finish"
"Start test2 Carga Ninos t=100"



"finish"
"Start test2 Clean t=100"
////aasasasaaquiuiui
"finish"
"Start test2 Carga Ninos t=50"
"finish"

"Start test2 Clean t=50"
"finish"
"Start test2 Carga Ninos t=20"
70.88607594936708
70.12987012987013
76.3157894736842
73.6842105263158
76.3157894736842
74.02597402597402
67.0886075949367
78.2051282051282
68.35443037974683
76.3157894736842
70.0
66.25
74.35897435897436
75.64102564102564
67.0886075949367
70.51282051282051
71.05263157894737
74.68354430379746
72.36842105263158
74.02597402597402
64.93506493506493
76.25
69.62025316455696
74.02597402597402
74.68354430379746
72.72727272727273
73.41772151898734
78.2051282051282
76.62337662337663
73.07692307692308
"finish"
"Start test2 Clean t=20"
57.89473684210526
65.78947368421052
72.72727272727273
61.8421052631579
57.142857142857146
61.03896103896104
57.142857142857146
65.33333333333333
60.526315789473685
71.05263157894737
65.38461538461539
65.38461538461539
60.526315789473685
59.74025974025974
63.63636363636363
71.05263157894737
61.53846153846154
71.7948717948718
67.10526315789474
62.33766233766234
59.21052631578947
70.12987012987013
59.74025974025974
60.526315789473685
63.1578947368421
62.666666666666664
60.256410256410255
60.526315789473685
61.8421052631579
64.47368421052632
"finish"
"Start test3 Carga Ninos t=100"
45.45454545454545
33.80281690140845
41.791044776119406
42.028985507246375
56.71641791044776
48.57142857142857
30.0
41.42857142857143
46.26865671641791
42.64705882352941
55.88235294117647
47.142857142857146
37.142857142857146
38.23529411764706
53.73134328358209
45.714285714285715
46.3768115942029
43.47826086956522
26.08695652173913
38.23529411764706
21.73913043478261
30.434782608695652
37.3134328358209
42.64705882352941
57.971014492753625
40.57971014492754
44.285714285714285
52.857142857142854
44.285714285714285
75.38461538461539
"finish"
"Start test3 Clean t=100"
30.434782608695652
49.23076923076923
63.07692307692308
38.46153846153846
31.818181818181817
40.298507462686565
37.878787878787875
32.83582089552239
40.0
43.93939393939394
26.865671641791046
41.1764705882353
33.333333333333336
41.791044776119406
34.32835820895522
45.588235294117645
31.818181818181817
39.39393939393939
30.76923076923077
30.76923076923077
25.37313432835821
26.865671641791046
53.84615384615385
40.298507462686565
36.76470588235294
39.130434782608695
30.88235294117647
38.80597014925373
40.298507462686565
34.84848484848485
"finish"
"Start test3 Carga Ninos t=50"
64.0625
63.492063492063494
61.904761904761905
66.66666666666667
75.0
61.904761904761905
64.17910447761194
66.66666666666667
73.01587301587301
62.5
70.76923076923077
66.15384615384616
73.84615384615384
67.1875
70.3125
66.12903225806451
70.76923076923077
71.875
68.75
74.60317460317461
64.61538461538461
66.66666666666667
78.125
72.3076923076923
62.5
81.53846153846153
68.18181818181819
72.58064516129032
65.07936507936508
67.1875
"finish"
"Start test3 Clean t=50"
66.66666666666667
62.295081967213115
57.377049180327866
58.064516129032256
61.29032258064516
63.492063492063494
62.903225806451616
54.83870967741935
66.12903225806451
54.83870967741935
64.51612903225806
67.21311475409836
65.07936507936508
63.9344262295082
73.01587301587301
55.73770491803279
57.142857142857146
60.65573770491803
59.375
64.51612903225806
66.66666666666667
60.0
62.903225806451616
72.58064516129032
64.51612903225806
53.96825396825397
57.8125
65.57377049180327
63.9344262295082
70.3125
"finish"
"Start test3 Carga Ninos t=20"
77.77777777777777
75.40983606557377
77.41935483870968
75.0
73.4375
79.36507936507937
84.12698412698413
76.19047619047619
77.77777777777777
78.68852459016394
80.64516129032258
83.60655737704919
76.5625
85.24590163934427
77.04918032786885
73.77049180327869
78.68852459016394
66.12903225806451
77.41935483870968
74.19354838709677
82.53968253968254
80.32786885245902
74.19354838709677
77.41935483870968
77.77777777777777
80.64516129032258
82.25806451612904
85.71428571428571
76.66666666666667
68.85245901639344
"finish"
"Start test3 Clean t=20"
66.66666666666667
68.33333333333333
73.01587301587301
62.295081967213115
75.0
73.33333333333333
71.66666666666667
70.96774193548387
72.1311475409836
65.57377049180327
71.42857142857143
79.66101694915254
67.21311475409836
72.1311475409836
70.96774193548387
66.10169491525424
76.66666666666667
81.66666666666667
73.33333333333333
77.04918032786885
70.96774193548387
72.58064516129032
70.0
70.0
70.49180327868852
74.60317460317461
70.0
77.04918032786885
67.21311475409836
73.33333333333333
"finish"

​       

  
